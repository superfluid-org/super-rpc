Step A — Create a Raw Passthrough Upstream


Disable all log splitting or pagination

Disable all request normalization or rewriting

Disable all retries that convert errors → empty results

Goal:

RPC in == RPC out



Step B — Enforce Hard-Fail on Violations

Add guards so that:

Returned logs must be within the requested block range

Invalid parameters must trigger an error

Empty logs on large historical ranges must trigger an error

If any violation occurs:

Return an RPC error

Let graph-node retry the request

This prevents silent corruption of the subgraph.

Step D — Reindex and Continuously Audit

Drop and reindex the subgraph:

graphman drop --subgraph <name>
graph deploy <name>

Continuously verify:

SELECT MIN(block_number) FROM entities;

If MIN(block_number) jumps forward unexpectedly → indexing is broken.